<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dev Utility Hub â€“ Extended</title>
  <style>
    :root {
      --bg: #020617;
      --panel: #0f172a;
      --accent: #38bdf8;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --bad: #ef4444;
      --warn: #eab308;
      --good: #22c55e;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: system-ui, sans-serif;
      background: linear-gradient(160deg, #020617, #020617, #0f172a);
      color: var(--text);
      min-height: 100vh;
    }

    header {
      padding: 2rem;
      text-align: center;
      border-bottom: 1px solid #1f2937;
    }

    header h1 {
      margin: 0;
      font-size: 2.4rem;
    }

    header p {
      margin-top: 0.5rem;
      color: var(--muted);
    }

    main {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 1.5rem;
      padding: 2rem;
    }

    .card {
      background: var(--panel);
      border-radius: 14px;
      padding: 1.25rem;
      box-shadow: 0 15px 40px rgba(0,0,0,0.5);
    }

    .card h2 {
      margin-top: 0;
      font-size: 1.2rem;
      color: var(--accent);
    }

    textarea, input, select {
      width: 100%;
      background: #020617;
      border: 1px solid #1f2937;
      border-radius: 8px;
      color: var(--text);
      padding: 0.6rem;
      margin-top: 0.5rem;
      resize: vertical;
    }

    button {
      margin-top: 0.75rem;
      padding: 0.6rem 1rem;
      background: var(--accent);
      color: #020617;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
    }

    button:hover { filter: brightness(1.1); }

    pre {
      background: #020617;
      border-radius: 8px;
      padding: 0.75rem;
      overflow-x: auto;
      margin-top: 0.5rem;
      font-size: 0.85rem;
      min-height: 40px;
    }

    footer {
      text-align: center;
      padding: 1.5rem;
      color: var(--muted);
      font-size: 0.85rem;
      border-top: 1px solid #1f2937;
    }
  </style>
</head>
<body>
  <header>
    <h1>Dev Utility Hub</h1>
    <p>One file. Too many tools. No excuses.</p>
  </header>

  <main>

    <div class="card">
      <h2>JSON Formatter / Minifier</h2>
      <textarea id="jsonInput"></textarea>
      <button onclick="formatJSON(true)">Format</button>
      <button onclick="formatJSON(false)">Minify</button>
      <pre id="jsonOutput"></pre>
    </div>

    <div class="card">
      <h2>Base64 Encode / Decode</h2>
      <textarea id="b64Input"></textarea>
      <button onclick="encodeB64()">Encode</button>
      <button onclick="decodeB64()">Decode</button>
      <pre id="b64Output"></pre>
    </div>

    <div class="card">
      <h2>Password Strength</h2>
      <input id="passwordInput" type="password" oninput="checkStrength()" />
      <pre id="passwordOutput"></pre>
    </div>

    <div class="card">
      <h2>Unix Timestamp</h2>
      <input id="timestampInput" placeholder="Seconds or ms" />
      <button onclick="convertTimestamp()">Convert</button>
      <pre id="timestampOutput"></pre>
    </div>

    <div class="card">
      <h2>JWT Decoder</h2>
      <textarea id="jwtInput" placeholder="header.payload.signature"></textarea>
      <button onclick="decodeJWT()">Decode</button>
      <pre id="jwtOutput"></pre>
    </div>

    <div class="card">
      <h2>URL Encode / Decode</h2>
      <textarea id="urlInput"></textarea>
      <button onclick="encodeURL()">Encode</button>
      <button onclick="decodeURL()">Decode</button>
      <pre id="urlOutput"></pre>
    </div>

    <div class="card">
      <h2>Text Diff (Line)</h2>
      <textarea id="diffA" placeholder="Text A"></textarea>
      <textarea id="diffB" placeholder="Text B"></textarea>
      <button onclick="diffText()">Compare</button>
      <pre id="diffOutput"></pre>
    </div>

    <div class="card">
      <h2>Regex Tester</h2>
      <input id="regexPattern" placeholder="Pattern" />
      <input id="regexFlags" placeholder="Flags (gim)" />
      <textarea id="regexText"></textarea>
      <button onclick="testRegex()">Test</button>
      <pre id="regexOutput"></pre>
    </div>

  </main>

  <footer>
    Static. Offline. GitHub Pages ready.
  </footer>

  <script>
    function formatJSON(pretty) {
      try {
        const obj = JSON.parse(jsonInput.value);
        jsonOutput.textContent = JSON.stringify(obj, null, pretty ? 2 : 0);
      } catch { jsonOutput.textContent = 'Invalid JSON'; }
    }

    function encodeB64() {
      b64Output.textContent = btoa(b64Input.value);
    }

    function decodeB64() {
      try { b64Output.textContent = atob(b64Input.value); }
      catch { b64Output.textContent = 'Invalid Base64'; }
    }

    function checkStrength() {
      const p = passwordInput.value;
      let s = 0;
      if (p.length >= 8) s++;
      if (/[A-Z]/.test(p)) s++;
      if (/[0-9]/.test(p)) s++;
      if (/[^A-Za-z0-9]/.test(p)) s++;
      passwordOutput.textContent = p ? (s < 2 ? 'Weak' : s === 2 ? 'Medium' : 'Strong') : '';
    }

    function convertTimestamp() {
      const n = Number(timestampInput.value);
      if (!n) return timestampOutput.textContent = 'Invalid timestamp';
      timestampOutput.textContent = new Date(n < 1e12 ? n * 1000 : n).toString();
    }

    function decodeJWT() {
      try {
        const [h, p] = jwtInput.value.split('.');
        const decode = s => JSON.parse(atob(s.replace(/-/g,'+').replace(/_/g,'/')));
        jwtOutput.textContent = JSON.stringify({ header: decode(h), payload: decode(p) }, null, 2);
      } catch { jwtOutput.textContent = 'Invalid JWT'; }
    }

    function encodeURL() { urlOutput.textContent = encodeURIComponent(urlInput.value); }
    function decodeURL() { try { urlOutput.textContent = decodeURIComponent(urlInput.value); } catch { urlOutput.textContent = 'Invalid URL encoding'; } }

    function diffText() {
      const a = diffA.value.split('\n');
      const b = diffB.value.split('\n');
      let out = '';
      a.forEach((line,i)=>{ if(line!==b[i]) out += `- ${line}\n+ ${b[i]||''}\n`; });
      diffOutput.textContent = out || 'No differences';
    }

    function testRegex() {
      try {
        const r = new RegExp(regexPattern.value, regexFlags.value);
        regexOutput.textContent = JSON.stringify(regexText.value.match(r), null, 2);
      } catch { regexOutput.textContent = 'Invalid regex'; }
    }
  </script>
</body>
</html>
